{"version":3,"sources":["utils/api.js","utils/utils.js","images/logo.svg","components/Header.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","images/success.svg","images/reject.svg","components/InfoTooltip.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","options","this","_cardsUrl","baseUrl","_userUrl","_likesUrl","_headers","headers","result","ok","json","Promise","reject","status","fetch","then","_checkResponse","name","about","method","body","JSON","stringify","link","cardId","avatar","authorization","Header","email","onSignOut","className","src","logo","alt","path","to","onClick","Register","onRegister","React","useState","setEmail","password","setPassword","onSubmit","event","preventDefault","noValidate","type","placeholder","value","onChange","target","required","Login","onLogin","ProtectedRoute","Component","component","props","loggedIn","InfoTooltip","isOpen","onClose","isRegistered","successImg","rejectImg","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","map","item","Footer","Date","getFullYear","ImagePopup","PopupWithForm","title","buttonText","children","EditProfilePopup","onUpdateUser","setName","description","setDescription","useEffect","id","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarSrc","useRef","current","ref","AddPlacePopup","setLink","ConfirmPopup","onConfirm","BASE_URL","checkResponse","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","delitingCard","setDelitingCard","setLoggedIn","registerd","setRegisterd","isInfoTooltipOpen","setIsInfoTooltipOpen","history","useHistory","all","getUserInfo","getInitialCards","results","user","catch","error","console","log","tokenCheck","token","jwt","localStorage","getItem","Authorization","response","data","push","closeAllPopups","Provider","removeItem","auth","finally","setItem","dislike","newCard","state","c","like","userData","updateUserInfo","addCard","updateAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","process","document","querySelector"],"mappings":"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","file":"static/js/main.93e96abf.chunk.js","sourcesContent":["import { options } from './utils.js';\r\n\r\nclass Api {\r\n\r\n  constructor(options) {\r\n    this._cardsUrl = options.baseUrl + '/cards';\r\n    this._userUrl = options.baseUrl + '/users/me';\r\n    this._likesUrl = options.baseUrl + '/cards/likes/';\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  _checkResponse(result) { // Проверка промиса\r\n    if (result.ok) {\r\n      return result.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${result.status}`);\r\n  }\r\n\r\n  getUserInfo() { // Загрузка информации о пользователе с сервера\r\n    return fetch(this._userUrl, {\r\n      headers: this._headers\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  getInitialCards() { // Загрузка карточек с сервера\r\n    return fetch(this._cardsUrl, {\r\n      headers: this._headers\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  updateUserInfo(name, about) { // Редактирование профиля\r\n    return fetch(this._userUrl, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        about\r\n      })\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  addCard(name, link) { // Добавление новой карточки\r\n    return fetch(this._cardsUrl, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        link\r\n      })\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  deleteCard(cardId) { // Удаление карточки\r\n    return fetch(this._cardsUrl + '/' + cardId, {\r\n      method: \"DELETE\",\r\n      headers: this._headers\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  like(cardId) { // Постановка лайка\r\n    return fetch(this._likesUrl + cardId, {\r\n      method: \"PUT\",\r\n      headers: this._headers\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  dislike(cardId) { // Снятие лайка\r\n    return fetch(this._likesUrl + cardId, {\r\n      method: \"DELETE\",\r\n      headers: this._headers\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  updateAvatar(avatar) { // Обновление аватара пользователя\r\n    return fetch(this._userUrl + '/avatar', {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar\r\n      })\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api(options);\r\n\r\nexport default api;\r\n","export const config = {\r\n  formSelector: '.popup__form',\r\n  inputSelector: '.popup__input',\r\n  submitButtonSelector: '.popup__button',\r\n  inactiveButtonClass: 'popup__button_disabled',\r\n  inputErrorClass: 'popup__input_type_error',\r\n  errorClass: 'popup__error_visible'\r\n};\r\n\r\nexport const options = {\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-25',\r\n  headers: {\r\n    authorization: 'bd192512-52fc-48cd-9611-18a277475c8c',\r\n    'Content-Type': 'application/json'\r\n  }\r\n};\r\n","export default __webpack_public_path__ + \"static/media/logo.5f3664ca.svg\";","import React from 'react';\r\nimport logo from '../images/logo.svg';\r\nimport { Link, Switch, Route } from \"react-router-dom\";\r\n\r\nfunction Header({ email, onSignOut}) {\r\n  \r\n  return (\r\n    <header className=\"header page__header\">\r\n      <img src={logo} alt=\"Место\" className=\"header__logo\" />\r\n      <Switch>\r\n        <Route path=\"/sign-up\">\r\n          <Link to=\"/sign-in\" className=\"header__link\">Войти</Link>\r\n        </Route>\r\n        <Route path=\"/sign-in\">\r\n          <Link to=\"/sign-up\" className=\"header__link\">Регистрация</Link>\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <ul className=\"header__container\">\r\n            <li><p className=\"header__email\">{email}</p></li>\r\n            <li><Link to=\"/sign-in\" className=\"header__link\" onClick={onSignOut}>Выйти</Link></li>\r\n          </ul>\r\n        </Route>\r\n      </Switch>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Register({ onRegister }) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  const handleInputEmail = (event) => { // Обработчик поля ввода эмейла\r\n    setEmail(event.target.value);\r\n  };\r\n\r\n  const handleInputPassword = (event) => { // Обработчик поля ввода пароля\r\n    setPassword(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = (event) => { // Обработчик сабмита формы\r\n    event.preventDefault();\r\n    onRegister(password, email);\r\n  };\r\n\r\n  return (\r\n    <div className=\"sign\">\r\n      <h2 className=\"sign__title\">Регистрация</h2>\r\n      <form className=\"sign__form\" name=\"login\" onSubmit={handleSubmit} noValidate>\r\n        <fieldset className=\"sign__set\">\r\n          <input className=\"sign__input\" name=\"email\" type=\"email\" placeholder=\"Email\" value={email} onChange={handleInputEmail} required/>\r\n          <input className=\"sign__input\" name=\"password\" type=\"password\" placeholder=\"Пароль\" value={password} onChange={handleInputPassword} required/>\r\n          <button className=\"button sign__button\" aria-label=\"Зарегистрироваться\"  type=\"submit\">Зарегистрироваться</button>\r\n        </fieldset>\r\n      </form>\r\n      <p className=\"sign__caption\">Уже зарегистрированы?\r\n        <Link to=\"/sign-in\" className=\"sign__link\"> Войти</Link>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\n\r\nfunction Login({ onLogin }) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  const handleInputEmail = (event) => { // Обработчик поля ввода эмейла\r\n    setEmail(event.target.value);\r\n  };\r\n\r\n  const handleInputPassword = (event) => { // Обработчик поля ввода пароля\r\n    setPassword(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = (event) => { // Обработчик сабмита формы\r\n    event.preventDefault();\r\n    onLogin(password, email);\r\n  };\r\n\r\n  return (\r\n    <div className=\"sign\">\r\n      <h2 className=\"sign__title\">Вход</h2>\r\n      <form className=\"sign__form\" name=\"login\" onSubmit={handleSubmit} noValidate>\r\n        <fieldset className=\"sign__set\">\r\n          <input className=\"sign__input\" name=\"email\" type=\"email\" placeholder=\"Email\" value={email} onChange={handleInputEmail} required/>\r\n          <input className=\"sign__input\" name=\"password\" type=\"password\" placeholder=\"Пароль\" value={password} onChange={handleInputPassword} required/>\r\n          <button className=\"button sign__button\" aria-label=\"Войти\"  type=\"submit\">Войти</button>\r\n        </fieldset>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;","import { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() => \r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />}\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/reject.df8eddf6.svg\";","import successImg from '../images/success.svg';\r\nimport rejectImg from '../images/reject.svg';\r\n\r\nfunction InfoTooltip({ isOpen, onClose, isRegistered }) {\r\n  return (\r\n    <div className={`popup popup_type_registration ${isOpen && \"popup_opened\"}`} >\r\n      <div className=\"popup__content dialog-window\">\r\n        <button className=\"button button_type_close\" aria-label=\"Закрыть\" type=\"button\" onClick={onClose}></button>\r\n        <img className=\"popup__registration-image\" src={isRegistered ? successImg : rejectImg} alt={isRegistered ? 'Удачно' : 'Ошибка'} />\r\n        <h2 className=\"popup__title popup__title_tip\">\r\n          {isRegistered ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}\r\n        </h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import React from 'react';\r\n\r\n// Контекст для данных пользователя //\r\n\r\nexport const CurrentUserContext = React.createContext();\r\nexport const currentUser = {};\r\n","import React from 'react';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  \r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n  \r\n  const handleClick = () => { // Обработчик нажатия на картчку\r\n    onCardClick(card);\r\n  };\r\n\r\n  const handleLikeClick = () => { // Обработчик лайка картчки\r\n    onCardLike(card);\r\n  };\r\n\r\n  const handleDeleteClick = () => { // Обработчик удаления картчки\r\n    onCardDelete(card);\r\n  };\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <button className=\"button button_type_image\" type=\"button\" onClick={handleClick}></button>\r\n      {isOwn && <button className=\"button button_type_delete\" aria-label=\"Удалить\" type=\"button\" onClick={handleDeleteClick}></button>}\r\n      <img className=\"element__image\" src={card.link} alt={card.name} />\r\n      <div className=\"element__group\">\r\n        <h2 className=\"element__title\">{card.name}</h2>\r\n        <div className=\"element__like-group\">\r\n          <button className={`button button_type_like ${isLiked && \"button_active\"}`} aria-label=\"Лайк\" type=\"button\" onClick={handleLikeClick}></button>\r\n          <p className=\"element__likes\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardLike, onCardDelete }) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__container\">\r\n          <img alt=\"Аватар профиля\" className=\"profile__avatar\" src={currentUser.avatar}/>\r\n          <button className=\"profile__avatar-button\" onClick={onEditAvatar}></button>\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <p className=\"profile__status\">{currentUser.about}</p>\r\n            <button className=\"button button_type_edit\" aria-label=\"Редактировать профиль\" type=\"button\" onClick={onEditProfile}></button>\r\n          </div>\r\n        </div>\r\n        <button className=\"button button_type_add\" aria-label=\"Добавить картинку\" type=\"button\" onClick={onAddPlace}></button>\r\n      </section>\r\n      <section className=\"content__section\">\r\n        <ul className=\"elements\">\r\n          {cards.map((item) => (\r\n            <Card card={item} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete} key={item._id}/>\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  \r\n  return (\r\n    <footer className=\"footer page__footer\">\r\n      <p className=\"footer__copyright\">&copy; {new Date().getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction ImagePopup({ card, name, isOpen, onClose }) {\r\n  \r\n  return(\r\n    <div className={`popup popup_type_${name} ${isOpen && \"popup_opened\"}`} >\r\n      <figure className=\"popup__figure dialog-window\">\r\n        <button className=\"button button_type_close\" aria-label=\"Закрыть\" type=\"button\" onClick={onClose}></button>\r\n        <img className=\"popup__image\" src={card.link} alt={card.name}/>\r\n        <figcaption className=\"popup__caption\">{card.name}</figcaption>\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm({ title, name, isOpen, buttonText, onClose, children, onSubmit }) {\r\n  \r\n  return (\r\n    <div className={`popup popup_type_${name} ${isOpen && \"popup_opened\"}`} >\r\n      <div className=\"popup__content dialog-window\">\r\n        <button className=\"button button_type_close\" aria-label=\"Закрыть\" type=\"button\" onClick={onClose}></button>\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form className=\"popup__form\" name={name} onSubmit={onSubmit}>\r\n          <fieldset className=\"popup__set\">\r\n            {children}\r\n            <button className=\"button popup__button\" aria-label={buttonText} type=\"submit\">{buttonText}</button>\r\n          </fieldset>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState(currentUser.name);\r\n  const [description, setDescription] = React.useState(currentUser.about);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, isOpen]);\r\n\r\n  const handleInputName = (event) => { // Обработчик поля ввода имени\r\n    setName(event.target.value)\r\n  };\r\n\r\n  const handleInputStatus = (event) => { // Обработчик поля ввода статуса\r\n    setDescription(event.target.value)\r\n  };\r\n  \r\n  const handleSubmit = (event) => { // Обработчик сабмита формы\r\n    event.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm title=\"Редактировать профиль\" name=\"profile\" isOpen={isOpen} buttonText=\"Сохранить\" onClose={onClose} onSubmit={handleSubmit}>\r\n      <input className=\"popup__input popup__input_field_name\" type=\"text\" name=\"name\" placeholder=\"Имя\" id=\"name-input\" minLength=\"2\" maxLength=\"40\" value={name || ''} onChange={handleInputName} required />\r\n      <span className=\"popup__error name-input-error\"></span>\r\n      <input className=\"popup__input popup__input_field_status\" type=\"text\" name=\"status\" placeholder=\"Статус\" id=\"status-input\" minLength=\"2\" maxLength=\"200\" value={description || ''} onChange={handleInputStatus} required />\r\n      <span className=\"popup__error status-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n\r\n  const avatarSrc = React.useRef();\r\n\r\n  React.useEffect(() => {\r\n    avatarSrc.current.value = '';\r\n  }, [isOpen]);\r\n\r\n  const handleSubmit = (event) => { // Обработчик сабмита формы\r\n    event.preventDefault();\r\n    onUpdateAvatar(avatarSrc.current.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm title=\"Обновить аватар\" name=\"avatar\" isOpen={isOpen} buttonText=\"Сохранить\" onClose={onClose} onSubmit={handleSubmit}>\r\n      <input ref={avatarSrc} className=\"popup__input popup__input_field_avatar\" type=\"url\" name=\"avatar\" placeholder=\"Ссылка на картинку\" id=\"avatar-input\" required />\r\n      <span className=\"popup__error avatar-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n   \r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName('');\r\n    setLink('')\r\n  }, [isOpen]);\r\n\r\n  const handleInputName = (event) => { // Обработчик поля ввода названия\r\n    setName(event.target.value)\r\n  };\r\n\r\n  const handleInputLink = (event) => { // Обработчик поля ввода ссылки\r\n    setLink(event.target.value)\r\n  };\r\n  \r\n  const handleSubmit = (event) => { // Обработчик сабмита формы\r\n    event.preventDefault();\r\n    onAddPlace(name, link);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm title=\"Новое место\" name=\"element\" isOpen={isOpen} buttonText=\"Сохранить\" onClose={onClose} onSubmit={handleSubmit}>\r\n      <input className=\"popup__input popup__input_field_title\" type=\"text\" name=\"title\" placeholder=\"Название\" id=\"title-input\" minLength=\"2\" maxLength=\"30\" onChange={handleInputName} value={name} required />\r\n      <span className=\"popup__error title-input-error\"></span>\r\n      <input className=\"popup__input popup__input_field_image\" type=\"url\" name=\"image\" placeholder=\"Ссылка на картинку\" id=\"image-input\" onChange={handleInputLink} value={link} required />\r\n      <span className=\"popup__error image-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction ConfirmPopup({ isOpen, onClose, onConfirm }) {\r\n\r\n  function handleSubmit(event) { // Обработчик сабмита формы\r\n    event.preventDefault();\r\n    onConfirm();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm title=\"Вы уверены?\" name=\"delete\" isOpen={isOpen} buttonText=\"Да\" onClose={onClose} onSubmit={handleSubmit} />\r\n  );\r\n}\r\n\r\nexport default ConfirmPopup;","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nconst checkResponse = (result)  => { // Проверка промиса\r\n  if (result.ok) {\r\n    return result.json();\r\n  }\r\n  return Promise.reject(`Ошибка: ${result.status}`);\r\n}\r\n\r\nexport const register = (password, email) => { // Регистрация\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ password, email }),\r\n  })\r\n  .then((response) => checkResponse(response));\r\n}\r\n\r\nexport const authorize = (password, email) => { // Авторизация\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ password, email }),\r\n  })\r\n  .then((response) => checkResponse(response));\r\n}\r\n\r\nexport const getContent = (token) => { // Получение пользователя по токену\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n  .then((response) => checkResponse(response));\r\n}","import React from 'react';\r\nimport { Route, Switch, useHistory } from 'react-router-dom';\r\nimport api from '../utils/api.js';\r\nimport Header from './Header';\r\nimport Register from './Register';\r\nimport Login from './Login';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ConfirmPopup from './ConfirmPopup';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\nimport * as auth from \"../utils/auth.js\";\r\n\r\nfunction App() {\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\r\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n  const [delitingCard, setDelitingCard] = React.useState({});\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [registerd, setRegisterd] = React.useState(false);\r\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\r\n  const [email, setEmail] = React.useState('');\r\n  const history = useHistory();\r\n  \r\n  React.useEffect(() => { // Запросы к серверу за данными пользователя и карточек\r\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\r\n      .then((results) => {\r\n        const [user, cards] = results;\r\n        setCurrentUser(user);\r\n        setCards(cards);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    tokenCheck();\r\n  }, []);\r\n\r\n  const handleEditAvatarClick = () => { // Обработчик кнопки редактирования аватара\r\n    setIsEditAvatarPopupOpen(true);\r\n  };\r\n\r\n  const handleUpdateAvatar = (avatar) => { // Обработчик обнавления аватара пользователя\r\n    api.updateAvatar(avatar)\r\n      .then((result) => {\r\n        setCurrentUser(result);\r\n        closeAllPopups();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const handleEditProfileClick = () => { // Обработчик кнопки редактирования профиля\r\n    setIsEditProfilePopupOpen(true);\r\n  };\r\n\r\n  const handleUpdateUser = (userData) => { // Обработчик обнавления данных пользователя\r\n    api.updateUserInfo(userData.name, userData.about)\r\n      .then((result) => {\r\n        setCurrentUser(result);\r\n        closeAllPopups();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const handleAddPlaceClick = () => { // Обработчик кнопки добавления карточки\r\n    setIsAddPlacePopupOpen(true);\r\n  };\r\n\r\n  const handleAddPlace = (name, link) => { // Обработчик добавления карточки\r\n    api.addCard(name, link)\r\n      .then((result) => {\r\n        setCards([result, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const handleConfirm = () => { // Обработчик подтверждения удаления карточки\r\n    api.deleteCard(delitingCard._id)\r\n    .then(() => {\r\n      setCards(cards.filter((c) => c._id !== delitingCard._id));\r\n      closeAllPopups();\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  const handleCardClick = (card) => { // Обработчик нажатия на карточку\r\n    setSelectedCard(card);\r\n    setIsImagePopupOpen(true);\r\n  };\r\n\r\n  function handleCardLike(card) { // Обработчик лайка картчки\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    if (isLiked) {\r\n      api.dislike(card._id).then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      });\r\n    } else {\r\n      api.like(card._id).then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      });\r\n    }\r\n  }\r\n\r\n  function handleCardDelete(card) { // Обработчик удаления картчки\r\n    setIsConfirmPopupOpen(true);\r\n    setDelitingCard(card);\r\n  }\r\n\r\n  const handleSignOut = () => { // Обработчик выхода из системы\r\n    localStorage.removeItem('jwt');\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  const handleRegistration = (password, email) => { // Обработчик регистрации\r\n    auth.register(password, email)\r\n    .then(() => {\r\n      setRegisterd(true);\r\n      history.push('/sign-in');\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    })\r\n    .finally(()=> {\r\n      setIsInfoTooltipOpen(true);\r\n    });\r\n  }\r\n\r\n  const handleLogin = (password, email) => { // Обработчик входа в систему\r\n    auth.authorize(password, email)\r\n    .then((response) => {\r\n      setLoggedIn(true);\r\n      setEmail(email);\r\n      localStorage.setItem('jwt', response.token);\r\n      history.push('/');\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  const tokenCheck = () => { // Проверка на сохраненный токен\r\n    const jwt = localStorage.getItem('jwt');\r\n    if (jwt) {\r\n      auth.getContent(jwt)\r\n      .then((response) => {\r\n        if (response) {\r\n          setLoggedIn(true);\r\n          setEmail(response.data['email']);\r\n          history.push('/');\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    }\r\n  }\r\n\r\n  const closeAllPopups = () => { // Закрытие всех попапов\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsImagePopupOpen(false);\r\n    setIsConfirmPopupOpen(false);\r\n    setSelectedCard({});\r\n    setIsInfoTooltipOpen(false);\r\n  };\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Header email={email} onSignOut={handleSignOut}/>\r\n      <Switch>\r\n        <Route path=\"/sign-up\">\r\n          <Register onRegister={handleRegistration}/>\r\n        </Route>\r\n        <Route path=\"/sign-in\">\r\n          <Login onLogin={handleLogin}/>\r\n        </Route>\r\n        <ProtectedRoute\r\n          path=\"/\"\r\n          loggedIn={loggedIn}\r\n          component={Main}\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onCardClick={handleCardClick}\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleCardDelete}>\r\n        </ProtectedRoute>\r\n      </Switch>\r\n      <Footer />\r\n      <InfoTooltip\r\n        isOpen={isInfoTooltipOpen}\r\n        onClose={closeAllPopups}\r\n        isRegistered={registerd}\r\n      />\r\n      <EditProfilePopup\r\n        isOpen={isEditProfilePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateUser={handleUpdateUser}\r\n      />\r\n      <AddPlacePopup\r\n        isOpen={isAddPlacePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onAddPlace={handleAddPlace}\r\n      />\r\n      <ImagePopup\r\n        card={selectedCard}\r\n        name=\"image\"\r\n        isOpen={isImagePopupOpen}\r\n        onClose={closeAllPopups}\r\n      />\r\n      <EditAvatarPopup\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n      />\r\n      <ConfirmPopup\r\n        isOpen={isConfirmPopupOpen}\r\n        onClose={closeAllPopups}\r\n        onConfirm={handleConfirm}\r\n      />\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render((\n  <React.StrictMode>\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>\n), document.querySelector('.page__content')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}